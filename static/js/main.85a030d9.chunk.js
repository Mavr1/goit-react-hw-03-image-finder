(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{24:function(e,t,a){e.exports=a(79)},76:function(e,t,a){},77:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),l=a.n(c),o=a(11),s=a(3),i=a.n(s),u=a(9),m=a(5),h=a(6),d=a(8),g=a(7),p=a(22),f=a.n(p),y=a(23),b=a.n(y),v=function(e){var t=e.type,a=void 0===t?"button":t,n=e.buttonText,c=e.clsnButton,l=e.clsnButtonName,o=e.handleClick;return r.a.createElement("button",{type:a,className:c,onClick:o},r.a.createElement("span",{className:l},n))},E=function(e){Object(d.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={input:""},e.handleInput=function(t){e.setState({input:t.target.value})},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("header",{className:"Searchbar"},r.a.createElement("form",{className:"SearchForm",onSubmit:function(t){t.preventDefault(),e.props.handleSubmit(e.state.input)}},r.a.createElement(v,{type:"submit",buttonText:"Search",clsnButton:"SearchForm-button",clsnButtonName:"SearchForm-button-label"}),r.a.createElement("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",name:"searchQuery",value:this.state.query,onChange:this.handleInput})))}}]),a}(n.Component),N=a(10),S=a.n(N);S.a.defaults.baseURL="https://pixabay.com/api/";var k=function(e,t){return S.a.get("?key=".concat("16728948-c39c5dcc25e25d8fd8d200637","&q=").concat(e,"&page=").concat(t,"&image_type=photo&orientation=horizontal&per_page=12"))},C=function(e){var t=e.children,a=e.handleClick,n=e.isLoading;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"ImageGallery"},t),!n&&r.a.createElement(v,{buttonText:"Load More",clsnButton:"Gallery-button",handleClick:a}))},w=function(e){var t=e.src,a=e.alt,n=e.srcLarge,c=e.handleImageClick;return r.a.createElement("li",{className:"ImageGalleryItem",onClick:c},r.a.createElement("img",{src:t,alt:a,"data-large":n,className:"ImageGalleryItem-image"}))},O=(a(76),a(77),a(78),function(e){var t=e.src,a=e.alt,n=e.handleCloseModal;return r.a.createElement("div",{className:"Overlay","data-type":"overlay",onClick:n},r.a.createElement("div",{className:"Modal"},r.a.createElement("img",{src:t,alt:a})))}),j=function(e){Object(d.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={query:"ocean",pageNumber:1,images:[],loading:!1,largeUrl:null,alt:null},e.searchQuery=Object(u.a)(i.a.mark((function t(){var a,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(e.state.query,1);case 2:a=t.sent,n=a.data.hits,e.setState({loading:!1,images:n});case 5:case"end":return t.stop()}}),t)}))),e.loadMore=Object(u.a)(i.a.mark((function t(){var a,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(e.state.query,e.state.pageNumber);case 2:a=t.sent,n=a.data.hits,e.setState((function(e){return{loading:!1,images:[].concat(Object(o.a)(e.images),Object(o.a)(n))}})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"});case 6:case"end":return t.stop()}}),t)}))),e.getQuery=function(t){e.setState({query:t})},e.increasePage=function(){e.setState({pageNumber:e.state.pageNumber+1})},e.openModal=function(t){e.setState({largeUrl:t.target.dataset.large,alt:t.target.alt})},e.closeModal=function(t){"overlay"===t.target.dataset.type&&e.setState({largeUrl:null})},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.setState({loading:!0}),this.searchQuery("ocean",1)}},{key:"componentDidUpdate",value:function(e,t){var a=this.state,n=a.query,r=a.pageNumber;return t.query!==n?(this.setState({loading:!0}),void this.searchQuery()):t.pageNumber!==r?(this.setState({loading:!0}),void this.loadMore()):void 0}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},this.state.largeUrl&&r.a.createElement(O,{src:this.state.largeUrl,alt:this.state.alt,handleCloseModal:this.closeModal}),r.a.createElement(E,{handleSubmit:this.getQuery}),this.state.images.length>0&&r.a.createElement(C,{handleClick:this.increasePage,isLoading:this.state.loading},this.state.loading?r.a.createElement(b.a,{className:"loader",type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3}):this.state.images.map((function(t){return r.a.createElement(w,{key:f.a.generate(),src:t.webformatURL,alt:t.tags,srcLarge:t.largeImageURL,handleImageClick:e.openModal})}))))}}]),a}(n.Component);l.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.85a030d9.chunk.js.map